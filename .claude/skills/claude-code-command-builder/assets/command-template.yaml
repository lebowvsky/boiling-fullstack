---
name: command-template
description: Base template for creating new Claude Code commands
created: YYYY-MM-DDTHH:MM:SS
---

# Command: [Command Name]

## Description
[Describe what this command does and when to use it]

## Parameters
parameters:
  # Required parameters
  - name: required_param
    type: string
    required: true
    description: Description of this required parameter
    
  # Optional parameters with defaults
  - name: optional_param
    type: string
    required: false
    description: Description of this optional parameter
    default: "default_value"

## Workflow
workflow:
  # Step 1: [Description of first step]
  - step: step_name_1
    agent: agent-name
    description: Brief description of what this step does
    prompt: |
      [Instructions for the agent]
      
      You can use parameters: {{required_param}}
      And: {{optional_param}}
    output_variable: step_1_result
    on_error: stop  # Options: stop, continue, retry
    
  # Step 2: [Description of second step]
  - step: step_name_2
    agent: another-agent
    description: Process results from step 1
    prompt: |
      [Instructions using previous results]
      
      Previous result: {{step_1_result}}
    output_variable: step_2_result
    on_error: stop
    
  # Step 3: [Conditional step - only runs if condition is met]
  - step: conditional_step
    agent: agent-name
    description: Runs only if condition is met
    condition: "step_2_result contains 'keyword'"
    prompt: |
      [Conditional instructions]
      
      Context: {{step_2_result}}
    output_variable: step_3_result
    on_error: continue
    
  # Step 4: [Final step with retry]
  - step: final_step
    agent: final-agent
    description: Final processing with retry capability
    prompt: |
      [Final instructions]
      
      All context:
      - Step 1: {{step_1_result}}
      - Step 2: {{step_2_result}}
      - Step 3: {{step_3_result}}
    output_variable: final_result
    on_error: retry
    retry_count: 3

## Output Configuration
output:
  format: markdown  # Options: markdown, json, text
  variables:
    - final_result
    - step_2_result  # Can include multiple variables
  save_to: .claude/command-outputs/{{name}}-{{timestamp}}.md

## Usage Examples

### Basic usage:
```bash
python scripts/execute_workflow.py /path/to/this-command.yaml \
  --param required_param=value1
```

### With optional parameter:
```bash
python scripts/execute_workflow.py /path/to/this-command.yaml \
  --param required_param=value1 \
  --param optional_param=custom_value
```

### Dry run (simulation):
```bash
python scripts/execute_workflow.py /path/to/this-command.yaml \
  --param required_param=value1 \
  --dry-run
```

## Notes
- [Add any specific notes about this command]
- [Prerequisites or dependencies]
- [Expected execution time]
- [Any limitations or caveats]
